(this.$WP=this.$WP||[]).push(["j3bsmh",(e,s)=>{var n,a,t,o,i,r,l,c,d,u,p,g,m,h,_,b,f,v,M,w,C,y,T,k,I,N,S,E,x,O,q,G,L="GOOGLE_ONETAP",R=({enhancedGoogleOneTapGate:e})=>t(()=>e?{pid:40670,flow:L,deferShowOverlay:!0}:{pid:40185,flow:L,deferShowOverlay:!0},[e]),j=()=>{var e=o(()=>v.remove("g_state"),[]);return i(()=>e,[e]),e},D=({logImpression:e})=>{var{fetching:s,bucket:n}=w({experiment:"google_one_tap_disable_auto_login_1714679068",logImpression:e});return{fetching:s,isDisableAutoLoginExperiment:s?null:"test"===n}},z=({onNotDisplayed:e,onUserSkipped:s,onCredentialReady:n,onAutoCancelled:a,onGeneralSkipDismiss:c,isFedcmEligible:d,containerId:u,flow:p,pid:g})=>{var m=r(null),[v,w]=l(!1),C=h(),y=S(),T=M({skipImpression:!1}),{fetching:k,isDisableAutoLoginExperiment:I}=D({logImpression:!0}),N=o((e,s)=>{C({module:"google_onetap",action:e,context:`${s}|${p}|isFedCM: ${d}`,value:g})},[p,g,C,d]),E=o(e=>{e&&(N("credentials_success",e.select_by),n(e.credential),w(!1))},[n,N]),x=o((s,n)=>{!T&&(N("display_event",n||"success"),b(s),w(s),s||e())},[e,N,T]),O=o(e=>{N("skipped_event",e),w(!1),"user_cancel"===e?s():"auto_cancel"===e?a():c&&c("skipped",e)},[s,a,c,N]),q=o(e=>{N("dismiss_event",e),w(!1),c&&(c("dismissed",e),"credential_returned"!==e&&c("dismissed",e))},[N,c]),G=o(e=>{switch(y(),e.getMomentType()){case"display":x(e.isDisplayed(),e.getNotDisplayedReason());break;case"skipped":O(d?"unknown_reason":e.getSkippedReason());break;case"dismissed":q(e.getDismissedReason())}},[y,x,O,d,q]),L=o(e=>{null!==m.current||k||(m.current=e,N("requested","na"),e.initialize({client_id:"1070328450902.apps.googleusercontent.com",callback:E,cancel_on_tap_outside:!1,prompt_parent_id:u,auto_select:!I&&!f(),use_fedcm_for_prompt:d}),e.prompt(G))},[N,E,u,d,k,I,G]);return i(()=>{N("script_requested","na"),_("https://accounts.google.com/gsi/client","MEMX").then(()=>{var e=()=>L(window.google.accounts.id);window.google?.accounts?.id?.initialize?e():window.onGoogleLibraryLoad=e})},[L,N]),i(()=>()=>{m.current&&m.current.cancel()},[]),t(()=>({shown:v}),[v])},P=e=>e+61+49,B=()=>({top:P(0),bottom:0}),F=()=>document.getElementById("credential_picker_iframe"),$={oneTapMessageContainer:"ZkqhQ Gi B1 Z BB Cj Za",oneTapMessageMobileContainer:"SuwMt D Gi l",oneTapMessageInnerContainer:"QnnKe z",oneTapIcon:"MPoqM Cj",headline:"LcmJt Cj Hn o q f u",rtl:"wVHIl",subhead:"ZnAJV Cj o q"},A=({bottom:e})=>{var s=g(),{userAgentCategory:o}=d();return t(()=>"MOBILE"===o,[o])?n("div",{className:C($.oneTapMessageMobileContainer,$.oneTapMessageContainer),style:{bottom:`${e||0}px`},children:n("div",{className:$.oneTapMessageInnerContainer,children:a("h3",{className:$.headline,children:[n("span",{className:$.oneTapIcon,children:n(y,{})}),n(p,{id:"onetap_message_unlock",messages:"Unlock the best of Tripadvisor"})," "]})})}):n("div",{className:C($.oneTapMessageContainer,{[$.rtl]:s}),children:a("div",{className:$.oneTapMessageInnerContainer,children:[a("h3",{className:$.headline,children:[n("span",{className:$.oneTapIcon,children:n(y,{})}),n(p,{id:"onetap_message_unlock",messages:"Unlock the best of Tripadvisor"})," "]}),a("p",{className:$.subhead,children:[n(p,{id:"onetap_message_subhead_to_get_the_most",messages:"Sign in to get the most out of Tripadvisor"})," "]})]})})},Z=({shown:e,isContextualMessagingEnabled:s,onShow:a})=>{var{bottom:t}=x(),[o,r]=l(!1),[c,d]=l(0);return i(()=>{if(!e)return()=>{};var n=F();if(n){if(n.style.bottom=`${t}px`,n.style.zIndex="10105",!s)return()=>{};var a,o=new MutationObserver(e=>{var s=e?.[0]?.target;if(s instanceof HTMLElement){clearTimeout(a);var n=parseInt(s?.style?.height||"0",10),t=isNaN(n)?0:n-9;a=setTimeout(()=>{d(t),r(t>0)},400)}});return o.observe(n,{attributes:!0}),()=>{o.disconnect(),clearTimeout(a)}}return()=>{}},[t,e,s]),i(()=>{e&&a&&a()},[e,a]),e&&o?n(O,{bottom:c+t}):null},H=({shown:e,containerId:s,isContextualMessagingEnabled:t,onShow:o})=>{var{top:c}=x(),[d,u]=l(!1),p=r(null);return i(()=>{if(e&&p&&p.current){var s=p.current.children[0];s&&(s.style.zIndex="10107",s.children&&0!==s.children.length&&(s.children[0].onload=()=>{u(t)}))}},[e,t]),i(()=>{e&&o&&o()},[e,o]),a("div",{className:C("mxEhR D y G- Za f e u",{LEMGe:!e}),style:{top:c},children:[d&&n(O,{}),n("div",{id:s,className:"hRNvt M0",ref:p})]})},V=["CheapFlightsSearchResults","CheapFlightsSearchDeals","MobileCheapFlightsSearchResults"],Q="tripGoogleOnetapContainer",J=({trackWouldOpenExplicitPreferences:e,openExplicitPreferences:s,explicitPreferencesEnabled:a,servletName:t,enhancedGoogleOneTapGate:r,onDismiss:l,onShow:p,onSuccessfulLogin:g,onAutoCancelled:h,triggerNext:_,suppressContextualMessage:b,onIFrameShown:f,isFullScreen:v,fullScreenHeader:M})=>{var w=c(),C=c(),y=N({enhancedGoogleOneTapGate:r}),S=m(),{fetching:x,isTermsPageExperiment:O}=T(),{fetching:L,isNoCloseModal:R}=k(),j=!x&&!!O,D=!L&&!!R,{browser:z}=d(),P="CHROME"===z.family&&z.majorVersion>=108,B=o(n=>{w({extraQueryParams:{google_id_token:n,isFedCM:P},isFullScreen:!!v,closeX:!j,disableCloseOptions:D,fullScreenHeader:M,onSwitchFlow:e=>{C(e)},onSuccess:n=>{g&&n&&n.userId&&g(!!n.hasCreatedMember,n.userId),n&&!0===n.hasCreatedMember&&(e&&e(),a&&s&&s())},onClose:()=>{I.has(S)||window.location.reload()},...y})},[a,M,P,v,w,y,g,s,C,e,j,D,S]),{shown:$}=E({onNotDisplayed:()=>{_(),l(!0)},onUserSkipped:()=>l(!0),onAutoCancelled:()=>{h&&h()},onGeneralSkipDismiss:()=>l(!1),onCredentialReady:B,isFedcmEligible:P,containerId:Q,pid:y.pid,flow:y.flow});i(()=>{if($){var e=F();e&&f&&f(e)}},[$,f]);var A=u(),Z=!b&&(null==t||!V.includes(t));return"MOBILE"===A&&F()?n(q,{shown:$,onShow:p,isContextualMessagingEnabled:Z}):n(G,{shown:$,onShow:p,containerId:Q,isContextualMessagingEnabled:Z})};return[()=>{N=R,S=j,E=z,x=B,O=A,q=Z,G=H,e("default",J)},[e=>(n=e.jsx,a=e.jsxs),e=>(t=e.useMemo,o=e.useCallback,i=e.useEffect,r=e.useRef,l=e.useState),e=>c=e.default,e=>d=e.useUserAgent,e=>u=e.useViewportCategory,e=>(p=e.default,g=e.useRtl,m=e.useLocale),e=>h=e.useGARecorder,e=>_=e.importScript,e=>(b=e.setOneTapEligibility,f=e.userSignedOut),e=>v=e.default,e=>M=e.usePopupSupressionTest,e=>w=e.useExperimentBucket,e=>C=e.default,e=>y=e.default,e=>(T=e.useGoogleOneTapTermsPage,k=e.useShowGoogleOneTapTermsPageNoCloseModal),e=>I=e.emailOptInLocales]]},["21h32l","o4yt4q","lchj5q","nnprhg","ys6v1o","7thqz4","32pwc7","q7wvkq","cyrz7y","5gpqhx","ab7lwb","v3e972","fkji80","ympq4z","nicnt2","71uqev"]]);
